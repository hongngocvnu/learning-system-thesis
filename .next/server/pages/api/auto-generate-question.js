"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auto-generate-question";
exports.ids = ["pages/api/auto-generate-question"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauto-generate-question&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauto-generate-question.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauto-generate-question&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauto-generate-question.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auto-generate-question.ts */ \"(api-node)/./pages/api/auto-generate-question.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auto-generate-question\",\n        pathname: \"/api/auto-generate-question\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_auto_generate_question_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGYXV0by1nZW5lcmF0ZS1xdWVzdGlvbiZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXV0by1nZW5lcmF0ZS1xdWVzdGlvbi50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDRTtBQUMxRDtBQUNvRTtBQUNwRTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsaUVBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLGlFQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLHlHQUFtQjtBQUNsRDtBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXGF1dG8tZ2VuZXJhdGUtcXVlc3Rpb24udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dG8tZ2VuZXJhdGUtcXVlc3Rpb25cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRvLWdlbmVyYXRlLXF1ZXN0aW9uXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauto-generate-question&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauto-generate-question.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/auto-generate-question.ts":
/*!*********************************************!*\
  !*** ./pages/api/auto-generate-question.ts ***!
  \*********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var together_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! together-ai */ \"together-ai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([together_ai__WEBPACK_IMPORTED_MODULE_0__]);\ntogether_ai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst together = new together_ai__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n    apiKey: process.env.TOGETHER_API_KEY\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            error: 'Method not allowed'\n        });\n    }\n    try {\n        const { course, chapter, learningObjective } = req.body;\n        if (!process.env.TOGETHER_API_KEY) {\n            console.error('TOGETHER_API_KEY is not set');\n            return res.status(500).json({\n                error: 'API key is not configured'\n            });\n        }\n        if (!course || !chapter || !learningObjective) {\n            return res.status(400).json({\n                error: 'Missing required fields'\n            });\n        }\n        const prompt = `\nCreate 1 multiple choice question for the following context:\n\nCourse: \"${course}\"\nChapter: \"${chapter}\"\nLearning Objective: \"${learningObjective}\"\n\nIMPORTANT: You must respond with ONLY a valid JSON object. Do not include any additional text, explanations, or markdown formatting.\n\nThe JSON object must have exactly these fields:\n{\n  \"question\": \"Your question text here\",\n  \"options\": [\"Option A\", \"Option B\", \"Option C\", \"Option D\"],\n  \"answer\": \"The correct option text\",\n  \"explanation\": \"Explain why the correct answer is correct\",\n  \"difficulty\": \"easy\", // or \"medium\", or \"hard\"\n  \"related_learning_objectives\": [\n    \"${learningObjective}\"\n  ]\n}\n\nConstraints:\n- The question must be related specifically to the learning objective.\n- Only one correct option.\n- The other three should be plausible but incorrect.\n- The question should match the academic level of an introductory CS course.\n- Your response must be ONLY the JSON object, with no additional text.\n- The answer must be the exact text of one of the options, not just a letter.\n`;\n        let fullResponse = '';\n        try {\n            const stream = await together.chat.completions.create({\n                model: 'mistralai/Mixtral-8x7B-v0.1',\n                messages: [\n                    {\n                        role: 'system',\n                        content: 'You are a helpful assistant that creates educational questions. You must always respond with ONLY a valid JSON object.'\n                    },\n                    {\n                        role: 'user',\n                        content: prompt\n                    }\n                ],\n                stream: true,\n                temperature: 0.7,\n                max_tokens: 1000\n            });\n            for await (const chunk of stream){\n                const content = chunk.choices[0]?.delta?.content || '';\n                fullResponse += content;\n                console.log('Chunk received:', content);\n            }\n            console.log('Full response:', fullResponse);\n            // Check if response is HTML error page\n            if (fullResponse.includes('<!DOCTYPE') || fullResponse.includes('<html')) {\n                console.error('Received HTML error page instead of JSON:', fullResponse);\n                return res.status(500).json({\n                    error: 'API returned an error page. Please check your API key and configuration.'\n                });\n            }\n            const jsonMatch = fullResponse.match(/\\{[\\s\\S]*?\\}/);\n            if (!jsonMatch) {\n                console.error('No JSON found in response:', fullResponse);\n                return res.status(500).json({\n                    error: 'Invalid response format from the API'\n                });\n            }\n            const data = JSON.parse(jsonMatch[0]);\n            if (!data.question || !Array.isArray(data.options) || data.options.length < 2 || !data.answer || !data.options.includes(data.answer)) {\n                return res.status(500).json({\n                    error: 'Invalid question structure or answer mismatch'\n                });\n            }\n            const difficultyMap = {\n                easy: '1',\n                medium: '2',\n                hard: '3'\n            };\n            const mappedData = {\n                ...data,\n                difficulty: difficultyMap[data.difficulty.toLowerCase()] || '1',\n                options: JSON.stringify(data.options) // for JSONB\n            };\n            return res.status(200).json(mappedData);\n        } catch (error) {\n            console.error('Together.ai API error:', error);\n            console.error('Error details:', {\n                message: error.message,\n                response: error.response?.data,\n                status: error.response?.status,\n                headers: error.response?.headers\n            });\n            return res.status(500).json({\n                error: 'Failed to generate question. Please check your API key and configuration.'\n            });\n        }\n    } catch (error) {\n        console.error('Error in auto-generate-question:', error);\n        return res.status(500).json({\n            error: 'An unexpected error occurred'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9hdXRvLWdlbmVyYXRlLXF1ZXN0aW9uLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ2tDO0FBRWxDLE1BQU1DLFdBQVcsSUFBSUQsbURBQVFBLENBQUM7SUFDNUJFLFFBQVFDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCO0FBQ3RDO0FBRWUsZUFBZUMsUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDN0UsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDekIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzVEO0lBRUEsSUFBSTtRQUNGLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxPQUFPLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdSLElBQUlTLElBQUk7UUFFdkQsSUFBSSxDQUFDYixRQUFRQyxHQUFHLENBQUNDLGdCQUFnQixFQUFFO1lBQ2pDWSxRQUFRTCxLQUFLLENBQUM7WUFDZCxPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQTRCO1FBQ25FO1FBRUEsSUFBSSxDQUFDQyxVQUFVLENBQUNDLFdBQVcsQ0FBQ0MsbUJBQW1CO1lBQzdDLE9BQU9QLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBMEI7UUFDakU7UUFFQSxNQUFNTSxTQUFTLENBQUM7OztTQUdYLEVBQUVMLE9BQU87VUFDUixFQUFFQyxRQUFRO3FCQUNDLEVBQUVDLGtCQUFrQjs7Ozs7Ozs7Ozs7O0tBWXBDLEVBQUVBLGtCQUFrQjs7Ozs7Ozs7Ozs7QUFXekIsQ0FBQztRQUVHLElBQUlJLGVBQWU7UUFDbkIsSUFBSTtZQUNGLE1BQU1DLFNBQVMsTUFBTW5CLFNBQVNvQixJQUFJLENBQUNDLFdBQVcsQ0FBQ0MsTUFBTSxDQUFDO2dCQUNwREMsT0FBTztnQkFDUEMsVUFBVTtvQkFDUjt3QkFDRUMsTUFBTTt3QkFDTkMsU0FDRTtvQkFDSjtvQkFDQTt3QkFBRUQsTUFBTTt3QkFBUUMsU0FBU1Q7b0JBQU87aUJBQ2pDO2dCQUNERSxRQUFRO2dCQUNSUSxhQUFhO2dCQUNiQyxZQUFZO1lBQ2Q7WUFFQSxXQUFXLE1BQU1DLFNBQVNWLE9BQVE7Z0JBQ2hDLE1BQU1PLFVBQVVHLE1BQU1DLE9BQU8sQ0FBQyxFQUFFLEVBQUVDLE9BQU9MLFdBQVc7Z0JBQ3BEUixnQkFBZ0JRO2dCQUNoQlYsUUFBUWdCLEdBQUcsQ0FBQyxtQkFBbUJOO1lBQ2pDO1lBRUFWLFFBQVFnQixHQUFHLENBQUMsa0JBQWtCZDtZQUU5Qix1Q0FBdUM7WUFDdkMsSUFBSUEsYUFBYWUsUUFBUSxDQUFDLGdCQUFnQmYsYUFBYWUsUUFBUSxDQUFDLFVBQVU7Z0JBQ3hFakIsUUFBUUwsS0FBSyxDQUFDLDZDQUE2Q087Z0JBQzNELE9BQU9YLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxPQUFPO2dCQUNUO1lBQ0Y7WUFFQSxNQUFNdUIsWUFBWWhCLGFBQWFpQixLQUFLLENBQUM7WUFDckMsSUFBSSxDQUFDRCxXQUFXO2dCQUNkbEIsUUFBUUwsS0FBSyxDQUFDLDhCQUE4Qk87Z0JBQzVDLE9BQU9YLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQXVDO1lBQzlFO1lBRUEsTUFBTXlCLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0osU0FBUyxDQUFDLEVBQUU7WUFFcEMsSUFDRSxDQUFDRSxLQUFLRyxRQUFRLElBQ2QsQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDTCxLQUFLTSxPQUFPLEtBQzNCTixLQUFLTSxPQUFPLENBQUNDLE1BQU0sR0FBRyxLQUN0QixDQUFDUCxLQUFLUSxNQUFNLElBQ1osQ0FBQ1IsS0FBS00sT0FBTyxDQUFDVCxRQUFRLENBQUNHLEtBQUtRLE1BQU0sR0FDbEM7Z0JBQ0EsT0FBT3JDLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQUVDLE9BQU87Z0JBQWdEO1lBQ3ZGO1lBRUEsTUFBTWtDLGdCQUEyQztnQkFDL0NDLE1BQU07Z0JBQ05DLFFBQVE7Z0JBQ1JDLE1BQU07WUFDUjtZQUVBLE1BQU1DLGFBQWE7Z0JBQ2pCLEdBQUdiLElBQUk7Z0JBQ1BjLFlBQVlMLGFBQWEsQ0FBQ1QsS0FBS2MsVUFBVSxDQUFDQyxXQUFXLEdBQUcsSUFBSTtnQkFDNURULFNBQVNMLEtBQUtlLFNBQVMsQ0FBQ2hCLEtBQUtNLE9BQU8sRUFBRSxZQUFZO1lBQ3BEO1lBRUEsT0FBT25DLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUN1QztRQUM5QixFQUFFLE9BQU90QyxPQUFZO1lBQ25CSyxRQUFRTCxLQUFLLENBQUMsMEJBQTBCQTtZQUN4Q0ssUUFBUUwsS0FBSyxDQUFDLGtCQUFrQjtnQkFDOUIwQyxTQUFTMUMsTUFBTTBDLE9BQU87Z0JBQ3RCQyxVQUFVM0MsTUFBTTJDLFFBQVEsRUFBRWxCO2dCQUMxQjNCLFFBQVFFLE1BQU0yQyxRQUFRLEVBQUU3QztnQkFDeEI4QyxTQUFTNUMsTUFBTTJDLFFBQVEsRUFBRUM7WUFDM0I7WUFDQSxPQUFPaEQsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLE9BQU87WUFDVDtRQUNGO0lBQ0YsRUFBRSxPQUFPQSxPQUFZO1FBQ25CSyxRQUFRTCxLQUFLLENBQUMsb0NBQW9DQTtRQUNsRCxPQUFPSixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBK0I7SUFDdEU7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxMRU5PVk9cXExlYXJuaW5nU3lzdGVtXFxwYWdlc1xcYXBpXFxhdXRvLWdlbmVyYXRlLXF1ZXN0aW9uLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0J1xyXG5pbXBvcnQgVG9nZXRoZXIgZnJvbSAndG9nZXRoZXItYWknXHJcblxyXG5jb25zdCB0b2dldGhlciA9IG5ldyBUb2dldGhlcih7XHJcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5UT0dFVEhFUl9BUElfS0VZXHJcbn0pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSB7XHJcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgZXJyb3I6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pXHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgeyBjb3Vyc2UsIGNoYXB0ZXIsIGxlYXJuaW5nT2JqZWN0aXZlIH0gPSByZXEuYm9keVxyXG5cclxuICAgIGlmICghcHJvY2Vzcy5lbnYuVE9HRVRIRVJfQVBJX0tFWSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUT0dFVEhFUl9BUElfS0VZIGlzIG5vdCBzZXQnKVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FQSSBrZXkgaXMgbm90IGNvbmZpZ3VyZWQnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFjb3Vyc2UgfHwgIWNoYXB0ZXIgfHwgIWxlYXJuaW5nT2JqZWN0aXZlKSB7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnIH0pXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJvbXB0ID0gYFxyXG5DcmVhdGUgMSBtdWx0aXBsZSBjaG9pY2UgcXVlc3Rpb24gZm9yIHRoZSBmb2xsb3dpbmcgY29udGV4dDpcclxuXHJcbkNvdXJzZTogXCIke2NvdXJzZX1cIlxyXG5DaGFwdGVyOiBcIiR7Y2hhcHRlcn1cIlxyXG5MZWFybmluZyBPYmplY3RpdmU6IFwiJHtsZWFybmluZ09iamVjdGl2ZX1cIlxyXG5cclxuSU1QT1JUQU5UOiBZb3UgbXVzdCByZXNwb25kIHdpdGggT05MWSBhIHZhbGlkIEpTT04gb2JqZWN0LiBEbyBub3QgaW5jbHVkZSBhbnkgYWRkaXRpb25hbCB0ZXh0LCBleHBsYW5hdGlvbnMsIG9yIG1hcmtkb3duIGZvcm1hdHRpbmcuXHJcblxyXG5UaGUgSlNPTiBvYmplY3QgbXVzdCBoYXZlIGV4YWN0bHkgdGhlc2UgZmllbGRzOlxyXG57XHJcbiAgXCJxdWVzdGlvblwiOiBcIllvdXIgcXVlc3Rpb24gdGV4dCBoZXJlXCIsXHJcbiAgXCJvcHRpb25zXCI6IFtcIk9wdGlvbiBBXCIsIFwiT3B0aW9uIEJcIiwgXCJPcHRpb24gQ1wiLCBcIk9wdGlvbiBEXCJdLFxyXG4gIFwiYW5zd2VyXCI6IFwiVGhlIGNvcnJlY3Qgb3B0aW9uIHRleHRcIixcclxuICBcImV4cGxhbmF0aW9uXCI6IFwiRXhwbGFpbiB3aHkgdGhlIGNvcnJlY3QgYW5zd2VyIGlzIGNvcnJlY3RcIixcclxuICBcImRpZmZpY3VsdHlcIjogXCJlYXN5XCIsIC8vIG9yIFwibWVkaXVtXCIsIG9yIFwiaGFyZFwiXHJcbiAgXCJyZWxhdGVkX2xlYXJuaW5nX29iamVjdGl2ZXNcIjogW1xyXG4gICAgXCIke2xlYXJuaW5nT2JqZWN0aXZlfVwiXHJcbiAgXVxyXG59XHJcblxyXG5Db25zdHJhaW50czpcclxuLSBUaGUgcXVlc3Rpb24gbXVzdCBiZSByZWxhdGVkIHNwZWNpZmljYWxseSB0byB0aGUgbGVhcm5pbmcgb2JqZWN0aXZlLlxyXG4tIE9ubHkgb25lIGNvcnJlY3Qgb3B0aW9uLlxyXG4tIFRoZSBvdGhlciB0aHJlZSBzaG91bGQgYmUgcGxhdXNpYmxlIGJ1dCBpbmNvcnJlY3QuXHJcbi0gVGhlIHF1ZXN0aW9uIHNob3VsZCBtYXRjaCB0aGUgYWNhZGVtaWMgbGV2ZWwgb2YgYW4gaW50cm9kdWN0b3J5IENTIGNvdXJzZS5cclxuLSBZb3VyIHJlc3BvbnNlIG11c3QgYmUgT05MWSB0aGUgSlNPTiBvYmplY3QsIHdpdGggbm8gYWRkaXRpb25hbCB0ZXh0LlxyXG4tIFRoZSBhbnN3ZXIgbXVzdCBiZSB0aGUgZXhhY3QgdGV4dCBvZiBvbmUgb2YgdGhlIG9wdGlvbnMsIG5vdCBqdXN0IGEgbGV0dGVyLlxyXG5gXHJcblxyXG4gICAgbGV0IGZ1bGxSZXNwb25zZSA9ICcnXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0b2dldGhlci5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6ICdtaXN0cmFsYWkvTWl4dHJhbC04eDdCLXYwLjEnLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIHJvbGU6ICdzeXN0ZW0nLFxyXG4gICAgICAgICAgICBjb250ZW50OlxyXG4gICAgICAgICAgICAgICdZb3UgYXJlIGEgaGVscGZ1bCBhc3Npc3RhbnQgdGhhdCBjcmVhdGVzIGVkdWNhdGlvbmFsIHF1ZXN0aW9ucy4gWW91IG11c3QgYWx3YXlzIHJlc3BvbmQgd2l0aCBPTkxZIGEgdmFsaWQgSlNPTiBvYmplY3QuJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHsgcm9sZTogJ3VzZXInLCBjb250ZW50OiBwcm9tcHQgfVxyXG4gICAgICAgIF0sXHJcbiAgICAgICAgc3RyZWFtOiB0cnVlLFxyXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjcsXHJcbiAgICAgICAgbWF4X3Rva2VuczogMTAwMFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBzdHJlYW0pIHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gY2h1bmsuY2hvaWNlc1swXT8uZGVsdGE/LmNvbnRlbnQgfHwgJydcclxuICAgICAgICBmdWxsUmVzcG9uc2UgKz0gY29udGVudFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdDaHVuayByZWNlaXZlZDonLCBjb250ZW50KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnRnVsbCByZXNwb25zZTonLCBmdWxsUmVzcG9uc2UpXHJcblxyXG4gICAgICAvLyBDaGVjayBpZiByZXNwb25zZSBpcyBIVE1MIGVycm9yIHBhZ2VcclxuICAgICAgaWYgKGZ1bGxSZXNwb25zZS5pbmNsdWRlcygnPCFET0NUWVBFJykgfHwgZnVsbFJlc3BvbnNlLmluY2x1ZGVzKCc8aHRtbCcpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignUmVjZWl2ZWQgSFRNTCBlcnJvciBwYWdlIGluc3RlYWQgb2YgSlNPTjonLCBmdWxsUmVzcG9uc2UpXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICBlcnJvcjogJ0FQSSByZXR1cm5lZCBhbiBlcnJvciBwYWdlLiBQbGVhc2UgY2hlY2sgeW91ciBBUEkga2V5IGFuZCBjb25maWd1cmF0aW9uLicgXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QganNvbk1hdGNoID0gZnVsbFJlc3BvbnNlLm1hdGNoKC9cXHtbXFxzXFxTXSo/XFx9LylcclxuICAgICAgaWYgKCFqc29uTWF0Y2gpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBKU09OIGZvdW5kIGluIHJlc3BvbnNlOicsIGZ1bGxSZXNwb25zZSlcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludmFsaWQgcmVzcG9uc2UgZm9ybWF0IGZyb20gdGhlIEFQSScgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvbk1hdGNoWzBdKVxyXG5cclxuICAgICAgaWYgKFxyXG4gICAgICAgICFkYXRhLnF1ZXN0aW9uIHx8XHJcbiAgICAgICAgIUFycmF5LmlzQXJyYXkoZGF0YS5vcHRpb25zKSB8fFxyXG4gICAgICAgIGRhdGEub3B0aW9ucy5sZW5ndGggPCAyIHx8XHJcbiAgICAgICAgIWRhdGEuYW5zd2VyIHx8XHJcbiAgICAgICAgIWRhdGEub3B0aW9ucy5pbmNsdWRlcyhkYXRhLmFuc3dlcilcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHF1ZXN0aW9uIHN0cnVjdHVyZSBvciBhbnN3ZXIgbWlzbWF0Y2gnIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGRpZmZpY3VsdHlNYXA6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XHJcbiAgICAgICAgZWFzeTogJzEnLFxyXG4gICAgICAgIG1lZGl1bTogJzInLFxyXG4gICAgICAgIGhhcmQ6ICczJ1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBtYXBwZWREYXRhID0ge1xyXG4gICAgICAgIC4uLmRhdGEsXHJcbiAgICAgICAgZGlmZmljdWx0eTogZGlmZmljdWx0eU1hcFtkYXRhLmRpZmZpY3VsdHkudG9Mb3dlckNhc2UoKV0gfHwgJzEnLFxyXG4gICAgICAgIG9wdGlvbnM6IEpTT04uc3RyaW5naWZ5KGRhdGEub3B0aW9ucykgLy8gZm9yIEpTT05CXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihtYXBwZWREYXRhKVxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdUb2dldGhlci5haSBBUEkgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRldGFpbHM6Jywge1xyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgcmVzcG9uc2U6IGVycm9yLnJlc3BvbnNlPy5kYXRhLFxyXG4gICAgICAgIHN0YXR1czogZXJyb3IucmVzcG9uc2U/LnN0YXR1cyxcclxuICAgICAgICBoZWFkZXJzOiBlcnJvci5yZXNwb25zZT8uaGVhZGVyc1xyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcclxuICAgICAgICBlcnJvcjogJ0ZhaWxlZCB0byBnZW5lcmF0ZSBxdWVzdGlvbi4gUGxlYXNlIGNoZWNrIHlvdXIgQVBJIGtleSBhbmQgY29uZmlndXJhdGlvbi4nIFxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGF1dG8tZ2VuZXJhdGUtcXVlc3Rpb246JywgZXJyb3IpXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJUb2dldGhlciIsInRvZ2V0aGVyIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIlRPR0VUSEVSX0FQSV9LRVkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY291cnNlIiwiY2hhcHRlciIsImxlYXJuaW5nT2JqZWN0aXZlIiwiYm9keSIsImNvbnNvbGUiLCJwcm9tcHQiLCJmdWxsUmVzcG9uc2UiLCJzdHJlYW0iLCJjaGF0IiwiY29tcGxldGlvbnMiLCJjcmVhdGUiLCJtb2RlbCIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJ0ZW1wZXJhdHVyZSIsIm1heF90b2tlbnMiLCJjaHVuayIsImNob2ljZXMiLCJkZWx0YSIsImxvZyIsImluY2x1ZGVzIiwianNvbk1hdGNoIiwibWF0Y2giLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwicXVlc3Rpb24iLCJBcnJheSIsImlzQXJyYXkiLCJvcHRpb25zIiwibGVuZ3RoIiwiYW5zd2VyIiwiZGlmZmljdWx0eU1hcCIsImVhc3kiLCJtZWRpdW0iLCJoYXJkIiwibWFwcGVkRGF0YSIsImRpZmZpY3VsdHkiLCJ0b0xvd2VyQ2FzZSIsInN0cmluZ2lmeSIsIm1lc3NhZ2UiLCJyZXNwb25zZSIsImhlYWRlcnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/auto-generate-question.ts\n");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "together-ai":
/*!******************************!*\
  !*** external "together-ai" ***!
  \******************************/
/***/ ((module) => {

module.exports = import("together-ai");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauto-generate-question&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauto-generate-question.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();